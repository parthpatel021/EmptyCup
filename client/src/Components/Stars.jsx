import React from 'react'
import "../app.css";

const getRatingVector = (rating) => {
    var rat = [0,0,0,0,0];
    for(var i = 0; i < 5; i++){
        if(rating >= 1){
            rat[i] = 2;
            rating -= 1;
        }
        else if(rating == 0.5){
            rat[i] = 1;
            rating = 0;
        }
    }

    return rat;
}

const ratingTostar = (rat) => {
    if(rat === 0){
        return (
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                <g clip-path="url(#clip0_7_235)">
                    <path d="M2.866 14.8499C2.788 15.2939 3.226 15.6409 3.612 15.4429L8.002 13.1869L12.391 15.4429C12.777 15.6409 13.215 15.2939 13.137 14.8509L12.307 10.1209L15.829 6.76492C16.159 6.45092 15.989 5.87692 15.547 5.81492L10.649 5.11892L8.465 0.791923C8.42339 0.704212 8.35775 0.630106 8.27571 0.578215C8.19366 0.526325 8.09857 0.498779 8.0015 0.498779C7.90442 0.498779 7.80933 0.526325 7.72729 0.578215C7.64524 0.630106 7.5796 0.704212 7.538 0.791923L5.354 5.11992L0.455996 5.81592C0.0149962 5.87792 -0.156004 6.45192 0.172996 6.76592L3.696 10.1219L2.866 14.8519V14.8499ZM7.771 12.0829L4.085 13.9769L4.779 10.0199C4.79525 9.92884 4.78889 9.83515 4.76047 9.7471C4.73205 9.65904 4.68244 9.57932 4.616 9.51492L1.71 6.74492L5.762 6.16892C5.8459 6.15625 5.92548 6.12343 5.99393 6.07327C6.06237 6.02312 6.11764 5.95711 6.155 5.88092L8 2.22292L9.847 5.88092C9.88435 5.95711 9.93962 6.02312 10.0081 6.07327C10.0765 6.12343 10.1561 6.15625 10.24 6.16892L14.292 6.74392L11.386 9.51392C11.3194 9.57842 11.2697 9.65831 11.2413 9.74655C11.2128 9.8348 11.2066 9.92868 11.223 10.0199L11.917 13.9769L8.231 12.0829C8.15972 12.0462 8.08069 12.027 8.0005 12.027C7.9203 12.027 7.84227 12.0462 7.771 12.0829Z" fill="black"/>
                </g>
                <defs>
                    <clipPath id="clip0_7_235">
                    <rect width="16" height="16" fill="white"/>
                    </clipPath>
                </defs>
            </svg>
        )
    }

    if(rat === 1){
        return (
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15" fill="none">
                <path d="M5.35301 4.619L7.53701 0.292C7.57896 0.204954 7.6445 0.131433 7.72618 0.0798096C7.80785 0.0281859 7.90239 0.000533281 7.99901 0C8.18201 0 8.36501 0.097 8.46401 0.292L10.648 4.619L15.546 5.315C15.6681 5.33419 15.7798 5.39491 15.8624 5.48691C15.9449 5.57891 15.9931 5.69655 15.999 5.82C16.006 5.90219 15.9943 5.98489 15.9649 6.06194C15.9355 6.13899 15.889 6.2084 15.829 6.265L12.306 9.621L13.136 14.351C13.214 14.794 12.776 15.141 12.39 14.943L7.99901 12.687L3.61001 14.943C3.5641 14.9668 3.51489 14.9837 3.46401 14.993C3.12201 15.053 2.79601 14.739 2.86401 14.351L3.69401 9.621L0.172011 6.265C0.117257 6.2132 0.0737344 6.15069 0.0441462 6.08137C0.014558 6.01204 -0.000464597 5.93737 1.0947e-05 5.862C6.29599e-05 5.75544 0.0294723 5.65095 0.085011 5.56C0.12441 5.49407 0.17811 5.43783 0.242149 5.39542C0.306188 5.35302 0.378931 5.32553 0.455011 5.315L5.35301 4.619ZM7.99901 11.527C8.07973 11.5267 8.15933 11.5459 8.23101 11.583L11.917 13.477L11.223 9.52C11.2066 9.429 11.2128 9.33536 11.2411 9.24731C11.2693 9.15926 11.3187 9.07949 11.385 9.015L14.292 6.245L10.24 5.669C10.1561 5.65633 10.0765 5.62351 10.0081 5.57335C9.93963 5.52319 9.88437 5.45719 9.84701 5.381L8.00001 1.723L7.99901 1.726V11.526V11.527Z" fill="black"/>
            </svg>
        )
    }

    if(rat === 2){
        return (
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15" fill="none">
                <g clip-path="url(#clip0_7_231)">
                    <path d="M3.612 14.4778C3.226 14.6634 2.788 14.3381 2.866 13.9228L3.696 9.48842L0.172996 6.34217C-0.156004 6.04779 0.0149962 5.50967 0.455996 5.45154L5.354 4.79904L7.538 0.74248C7.735 0.376855 8.268 0.376855 8.465 0.74248L10.649 4.79904L15.547 5.45154C15.988 5.50967 16.159 6.04779 15.829 6.34217L12.307 9.48842L13.137 13.9228C13.215 14.3381 12.777 14.6634 12.391 14.4778L8 12.3628L3.612 14.4778Z" fill="black"/>
                </g>
                <defs>
                    <clipPath id="clip0_7_231">
                    <rect width="16" height="15" fill="white"/>
                    </clipPath>
                </defs>
            </svg>
        )
    }
}

const Stars = (props) => {
    var rating = getRatingVector(props.rating);

  return (
    <div className='rating-stars'>
        {rating.map(rat => (
            <div className='star'>
                {ratingTostar(rat)}
            </div>
        ))}
    </div>
  )
}

export default Stars